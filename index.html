<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <title>Simples file upload com RestAPI</title>
</head>

<body>
    <script type="text/javascript">
        function enviar() {
            const formData = new FormData()
            const arquivo = document.getElementById('arquivoInput').files[0]
            const xhr = new XMLHttpRequest()

            formData.append("file", arquivo)

            xhr.onreadystatechange = () => {
                if (xhr.readyState == 4) {
                    const div = document.getElementById('mensagem')
                    const resposta = xhr.responseText
                    div.innerHTML += resposta
                }
            }
            xhr.open('POST', 'http://localhost:8080/api/upload')
            xhr.send(formData)
        }
    </script>

    <input type="file" id="arquivoInput" />
    <button onclick="enviar()">Enviar </button> <br>
    Retorno JSON: <span id="mensagem"></span>
</body>

</html>